<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Secret deployment for each app · DSP AppSec Infrastructure Apps</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Secrets deployed for each namespace in the cluster. Values must be encoded."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Secret deployment for each app · DSP AppSec Infrastructure Apps"/><meta property="og:type" content="website"/><meta property="og:url" content="https://broadinstitute.github.io/https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/"/><meta property="og:description" content="Secrets deployed for each namespace in the cluster. Values must be encoded."/><meta property="og:image" content="https://broadinstitute.github.io/https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://broadinstitute.github.io/https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/js/scrollSpy.js"></script><link rel="stylesheet" href="https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/css/main.css"/><script src="https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/"><img class="logo" src="https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/img/broad-logo-white.png" alt="DSP AppSec Infrastructure Apps"/><h2 class="headerTitleWithLogo">DSP AppSec Infrastructure Apps</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/docs/security-apps" target="_self">Docs</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Secret Deployment</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Cluster Deployed Applications</h3><ul class=""><li class="navListItem"><a class="navItem" href="https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/docs/security-apps">Cluster Deployed Security Apps</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Kubernetes Cluster</h3><ul class=""><li class="navListItem"><a class="navItem" href="https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/docs/kubernetes-cluster">AppSec Infrastructure</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Sdarq</h3><ul class=""><li class="navListItem"><a class="navItem" href="https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/docs/sdarq">Sdarq</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">ZAP Scan Automation</h3><ul class=""><li class="navListItem"><a class="navItem" href="https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/docs/zap_scan">Zap Scan Automation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">CIS Scan Automation</h3><ul class=""><li class="navListItem"><a class="navItem" href="https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/docs/cis_scan">CIS Scan Automation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">How we use DefectDojo &amp; CodeDx</h3><ul class=""><li class="navListItem"><a class="navItem" href="https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/docs/defectdojo_codedx">How we use DefectDojo &amp; CodeDx</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Secret Deployment</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/docs/secret_deployment">Secret deployment for each app</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Configurations</h3><ul class=""><li class="navListItem"><a class="navItem" href="https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/docs/config">Configurations</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Secret deployment for each app</h1></header><article><div><span><p>Secrets deployed for each namespace in the cluster. Values must be encoded.</p>
<h3><a class="anchor" aria-hidden="true" id="sdarq-secrets"></a><a href="#sdarq-secrets" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SDARQ secrets</h3>
<pre><code class="hljs">apiVersion: v1
data:
  appsec_jira_project_key: Appsec team Jira board Key
  appsec_slack_channel: Appsec team Slack channel <span class="hljs-keyword">to</span> <span class="hljs-builtin-name">get</span> notifications
  appsec_sdarq_error_channel: AppSec Slack channel <span class="hljs-keyword">to</span> <span class="hljs-builtin-name">get</span> notifications when there is an <span class="hljs-builtin-name">error</span> <span class="hljs-keyword">for</span> the<span class="hljs-built_in"> user </span>requests
  dojo_api_key: DefectDojo API key
  dojo_host_url: DefectDojo host link
  jira_api_token: Jira API token
  jira_instance: Jira host link
  jira_username: Jira username
  jtra_slack_channel: Slack channel <span class="hljs-keyword">to</span> receive notifications <span class="hljs-keyword">for</span> High risk Jira ticket
  slack_token: DefectDojo API key
kind:<span class="hljs-built_in"> Secret
</span>metadata:
  name: sdarq
  namespace: sdarq
type: Opaque
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="sdarq-security-controls-secrets"></a><a href="#sdarq-security-controls-secrets" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SDARQ Security-Controls secrets</h3>
<pre><code class="hljs">apiVersion: v1
data:
  DAST_LINK: DefectDojo part <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> link <span class="hljs-keyword">after</span> <span class="hljs-keyword">the</span> product <span class="hljs-built_in">number</span> that redirects <span class="hljs-built_in">to</span> <span class="hljs-keyword">the</span> list <span class="hljs-keyword">of</span> DAST scan findings
  DEFECT_DOJO: DefectDojo host link
  DEFECT_DOJO_KEY: DefectDojo API key
  DEP_SCAN_LINK: DefectDojo part <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> link <span class="hljs-keyword">after</span> <span class="hljs-keyword">the</span> product <span class="hljs-built_in">number</span> that redirects <span class="hljs-built_in">to</span> <span class="hljs-keyword">the</span> list <span class="hljs-keyword">of</span> <span class="hljs-number">3</span>rd party dependencies scan findings
  SLACK_CHANNEL: slack channel that reports <span class="hljs-built_in">to</span> AppSec team all <span class="hljs-keyword">the</span> security controls missing <span class="hljs-keyword">for</span> services
  SLACK_TOKEN: slack <span class="hljs-keyword">token</span>
kind: Secret
metadata:
  name: security-controls
  namespace: security-controls
type: Opaque
</code></pre>
<pre><code class="hljs">apiVersion: v1
data:
  SONARCLOUD_API_KEY:  SonarCloud API key
kind:<span class="hljs-built_in"> Secret
</span>metadata:
  name: sonarcloud
  namespace: security-controls
type: Opaque
</code></pre>
<pre><code class="hljs">apiVersion: v1
data:
  GITHUB_TOKEN:  GitHub personal access token
kind:<span class="hljs-built_in"> Secret
</span>metadata:
  name: github
  namespace: security-controls
type: Opaque
</code></pre>
<pre><code class="hljs">apiVersion: v1
data:
  CODACY_API_KEY:  Codacy API key
kind:<span class="hljs-built_in"> Secret
</span>metadata:
  name: codacy
  namespace: security-controls
type: Opaque
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="codedx-secrets"></a><a href="#codedx-secrets" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CodeDx secrets</h3>
<pre><code class="hljs"><span class="hljs-symbol">apiVersion:</span> v1
<span class="hljs-symbol">data:</span>
<span class="hljs-symbol">  DB_PASSWORD:</span> Database password
<span class="hljs-symbol">  DB_ROOT_PASSWORD:</span> Database root password
<span class="hljs-symbol">  SUPERUSER_PASSWORD:</span> Superuser password
<span class="hljs-symbol">kind:</span> Secret
<span class="hljs-symbol">metadata:</span>
<span class="hljs-symbol">  name:</span> codedx
<span class="hljs-symbol">  namespace:</span> codedx
<span class="hljs-symbol">type:</span> Opaque
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="zap-scanner-secrets"></a><a href="#zap-scanner-secrets" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ZAP Scanner secrets</h3>
<p>If you are using CODEDX to send your ZAP results, replace CODEDX API KEY with your CODEDX API KEY,
if you are not using CODEDX, replace CODEDX API KEY value with encoded value of <code>&quot;&quot;</code></p>
<pre><code class="hljs"><span class="hljs-symbol">apiVersion:</span> v1
<span class="hljs-symbol">data:</span>
<span class="hljs-symbol">  CODEDX_API_KEY:</span> CodeDx API key
<span class="hljs-symbol">  DEFECT_DOJO:</span> DefectDojo host
<span class="hljs-symbol">  DEFECT_DOJO_KEY:</span> DefectDojo key
<span class="hljs-symbol">  DEFECT_DOJO_USER:</span> DefectDojo token
<span class="hljs-symbol">  SLACK_TOKEN:</span> SLack token
<span class="hljs-symbol">kind:</span> Secret
<span class="hljs-symbol">metadata:</span>
<span class="hljs-symbol">  name:</span> zap-scans
<span class="hljs-symbol">  namespace:</span> zap
<span class="hljs-symbol">type:</span> Opaque
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="cis-scanner-secrets"></a><a href="#cis-scanner-secrets" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CIS Scanner secrets</h3>
<pre><code class="hljs">apiVersion: v1
data:
  SDARQ_HOST: SDARQ host link
  SLACK_CHANNEL_WEEKLY_REPORT: Slack channel where <span class="hljs-keyword">to</span> send weekly reports
  SLACK_TOKEN: Slack token
kind:<span class="hljs-built_in"> Secret
</span>metadata:
  name: cis-scans
  namespace: cis
type: Opaque
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="defectdojo-secrets"></a><a href="#defectdojo-secrets" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>DefectDojo secrets</h3>
<h4><a class="anchor" aria-hidden="true" id="google-oauth-integration-to-defectdojo"></a><a href="#google-oauth-integration-to-defectdojo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Google Oauth integration to DefectDojo</h4>
<pre><code class="hljs">apiVersion: v1
data:
  oauth2_key:
  oauth2_secret:
kind:<span class="hljs-built_in"> Secret
</span>metadata:
  name: googleoauth2
  namespace: defectdojo
type: Opaque
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/docs/defectdojo_codedx"><span class="arrow-prev">← </span><span class="function-name-prevnext">How we use DefectDojo &amp; CodeDx</span></a><a class="docs-next button" href="https://broadinstitute.github.io/dsp-appsec-infrastructure-apps/docs/config"><span>Configurations</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="copyright">Copyright © 2023 DSP AppSec - Broad Institute</section></footer></div></body></html>